/* 深海引导层样式 */
:root {
  --sea-bg: #0B3471; /* 主色调 */
  --sea-bg-deep: #072447;
  --sea-accent: #5db2ff;
  --text-light: rgba(255,255,255,0.9);
  --text-dim: rgba(255,255,255,0.7);
}

#intro-overlay {
  position: fixed;
  inset: 0;
  background: radial-gradient(120% 120% at 50% 20%, var(--sea-accent) 0%, var(--sea-bg) 35%, var(--sea-bg-deep) 100%);
  z-index: 1000; /* 高于一切 */
  display: grid;
  grid-template-rows: 1fr;
  align-items: center;
  justify-items: center;
  overflow: hidden;
  opacity: 1;
  transition: opacity 700ms ease;
}

#intro-overlay.fade-out { opacity: 0; pointer-events: none; }

#intro-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
  filter: blur(0.3px) saturate(1.05);
}

/* ECG 覆盖画布：位于黑胶之上，整层铺满 */
#intro-ecg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
  z-index: 1; /* 在黑胶之下，形成“穿过”时被黑胶遮挡的效果 */
  pointer-events: none; /* 不拦截点击 */
}

.intro-content {
  position: relative;
  z-index: 2;
  text-align: center;
  color: var(--text-light);
  font-family: 'JingHuaOldSongTi', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  padding: 2rem;
}

/* 角落文字：华 北 浪 革 依次出现 */
.intro-corners { position: absolute; inset: 0; z-index: 2; pointer-events: none; }
.corner-char {
  position: absolute;
  /* 凹陷（雕刻）效果：去色彩、用高光/阴影模拟内凹 */
  color: transparent; /* 文字本身无颜色，仅靠描边与阴影显形 */
  -webkit-text-fill-color: transparent; /* 强制 WebKit 内核透明填充，避免默认黑色 */
  -webkit-text-stroke: 1px rgba(0,0,0,0.28); /* 深一点的暗描边，增强内凹边界 */
  text-shadow:
    -2px -2px 3px rgba(0, 0, 0, 0.42),  /* 上左内壁阴影（主）*/
    -1px -1px 0 rgba(0, 0, 0, 0.28),    /* 上左锐边阴影（次）*/
    1px 1px 1px rgba(93, 178, 255, 0.08); /* 下右极弱高光（避免白感，用海色系）*/

  /* 字号：非常大 */
  font-size: clamp(56px, 14vw, 280px);
  font-weight: 900; /* 加粗 */
  font-family: 'JingHuaOldSongTi', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  letter-spacing: 0.06em;
  opacity: 0;
  transform: translateY(6px);
}
.corner-char.tl { top: 24px; left: 24px; }
.corner-char.tr { top: 24px; right: 24px; }
.corner-char.bl { bottom: 24px; left: 24px; }
.corner-char.br { bottom: 24px; right: 24px; }

/* 仅在播放开始（JS 添加 .corners-visible）后再触发依次入场动画 */
#intro-overlay.corners-visible .corner-char { animation: corner-in 900ms ease forwards; }
#intro-overlay.corners-visible .corner-char.tr { animation-delay: 250ms; }
#intro-overlay.corners-visible .corner-char.bl { animation-delay: 500ms; }
#intro-overlay.corners-visible .corner-char.br { animation-delay: 750ms; }

@keyframes corner-in {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}

.vinyl-wrap {
  display: grid;
  place-items: center;
  margin: 0 auto 1.25rem;
}

/* 黑胶唱片（深黑亮面 + 斜向反光 + 外缘高光 + 内缘压边 + 细腻纹理） */
.vinyl {
  /* 尺寸更小更精致（可按需调整） */
  width: min(36vw, 220px);
  height: min(36vw, 220px);
  border-radius: 50%;
  
  /* 使用图片作为黑胶盘（替代所有渐变/纹理） */
  background: url('../img/other/黑胶唱片.png') center/contain no-repeat;

  /* 阴影增强立体感 */
  box-shadow: 0 18px 48px rgba(0,0,0,0.6);

  position: relative;
  animation: vinyl-spin 0s linear infinite; /* 初始不转，播放时加速 */
}

@keyframes vinyl-spin { to { transform: rotate(360deg); } }

.vinyl .label {
  position: absolute;
  inset: 50% auto auto 50%;
  transform: translate(-50%, -50%);
  /* 直接用整张黑胶图，不再叠贴纸（如需叠专辑封面，可移除此行） */
  display: none;
}

/* 不再绘制中心轴孔（由图片决定） */

.intro-controls { display: inline-flex; gap: 16px; margin-bottom: 1rem; }

.ctrl-btn {
  background: rgba(255,255,255,0.12);
  color: var(--text-light);
  border: 1px solid rgba(255,255,255,0.28);
  border-radius: 999px;
  padding: 0.6rem 1.1rem;
  font-size: 16px;
  cursor: pointer;
  transition: all 180ms ease;
}

.ctrl-btn[disabled] { opacity: 0.45; cursor: not-allowed; }
.ctrl-btn:hover:not([disabled]) { background: rgba(255,255,255,0.2); transform: translateY(-1px); }

.intro-btn {
  background: rgba(255,255,255,0.09);
  color: var(--text-light);
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 999px;
  padding: 0.9rem 1.6rem;
  font-size: 16px;
  cursor: pointer;
  backdrop-filter: blur(6px);
  transition: all 220ms ease;
}

.intro-btn:hover { background: rgba(255,255,255,0.16); transform: translateY(-2px); }

.intro-tip { margin-top: 0.75rem; font-size: 13px; color: var(--text-dim); }

@media (max-width: 768px) { .intro-title { letter-spacing: 0.1em; } }
